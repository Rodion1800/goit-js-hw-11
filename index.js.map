{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const apiUrl = 'https://pixabay.com/api/';\nexport const apiKey = '47996916-063d7568314d3761f2b5e2fb9';\n\nexport function fetchImages(query) {\n  const params = new URLSearchParams({\n    key: apiKey,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return fetch(`${apiUrl}?${params.toString()}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export function createImageCard(hit) {\n  const card = document.createElement('div');\n  card.classList.add('card');\n\n  const link = document.createElement('a');\n  link.href = hit.largeImageURL;\n  link.classList.add('lightbox-item');\n\n  const image = document.createElement('img');\n  image.src = hit.webformatURL;\n  image.alt = hit.tags;\n\n  link.setAttribute('data-title', hit.tags);\n  link.appendChild(image);\n\n  const cardInfo = document.createElement('div');\n  cardInfo.classList.add('card-info');\n\n  const stats = document.createElement('p');\n  stats.innerHTML = `\n    <span class=\"stat-item\">Likes: ${hit.likes}</span> \n    <span class=\"stat-item\">Views: ${hit.views}</span> \n    <span class=\"stat-item\">Comments: ${hit.comments}</span> \n    <span class=\"stat-item\">Downloads: ${hit.downloads}</span>\n  `;\n\n  cardInfo.appendChild(stats);\n  card.appendChild(link);\n  card.appendChild(cardInfo);\n\n  return card;\n}\n","import { fetchImages } from './js/pixabay-api';\nimport { createImageCard } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst pictureName = document.querySelector('#picture-picker');\nconst searchButton = document.querySelector('#Search-btn');\nconst resultContent = document.querySelector('#results');\nconst loadingIndicator = document.createElement('div');\n\nloadingIndicator.id = 'loading-indicator';\nloadingIndicator.classList.add('loading-indicator');\nloadingIndicator.textContent = 'Loading images, please wait';\nloadingIndicator.style.display = 'none';\ndocument.body.appendChild(loadingIndicator);\n\nsearchButton.addEventListener('click', () => {\n  const searchedPicture = pictureName.value.trim();\n\n  if (!searchedPicture) {\n    iziToast.error({\n      title: 'Error',\n      message: `Please enter picture description`,\n    });\n    return;\n  }\n\n  loadingIndicator.style.display = 'block';\n\n  resultContent.innerHTML = '';\n\n  fetchImages(searchedPicture)\n    .then(data => {\n      resultContent.innerHTML = '';\n      if (data.hits.length === 0) {\n        iziToast.info({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      data.hits.forEach(hit => {\n        const card = createImageCard(hit);\n        resultContent.appendChild(card);\n      });\n\n      const lightbox = new SimpleLightbox('.lightbox-item');\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      loadingIndicator.style.display = 'none';\n      pictureName.value = '';\n    });\n});\n"],"names":["apiUrl","apiKey","fetchImages","query","params","response","createImageCard","hit","card","link","image","cardInfo","stats","pictureName","searchButton","resultContent","loadingIndicator","searchedPicture","iziToast","data","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAAS,2BACTC,EAAS,qCAEf,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAM,IAAII,EAAO,SAAQ,CAAE,EAAE,EAAE,KAAKC,GAAY,CAC9D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CClBO,SAASC,EAAgBC,EAAK,CACnC,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzB,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOF,EAAI,cAChBE,EAAK,UAAU,IAAI,eAAe,EAElC,MAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,IAAMH,EAAI,aAChBG,EAAM,IAAMH,EAAI,KAEhBE,EAAK,aAAa,aAAcF,EAAI,IAAI,EACxCE,EAAK,YAAYC,CAAK,EAEtB,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAU,IAAI,WAAW,EAElC,MAAMC,EAAQ,SAAS,cAAc,GAAG,EACxC,OAAAA,EAAM,UAAY;AAAA,qCACiBL,EAAI,KAAK;AAAA,qCACTA,EAAI,KAAK;AAAA,wCACNA,EAAI,QAAQ;AAAA,yCACXA,EAAI,SAAS;AAAA,IAGpDI,EAAS,YAAYC,CAAK,EAC1BJ,EAAK,YAAYC,CAAI,EACrBD,EAAK,YAAYG,CAAQ,EAElBH,CACT,CCxBA,MAAMK,EAAc,SAAS,cAAc,iBAAiB,EACtDC,EAAe,SAAS,cAAc,aAAa,EACnDC,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAmB,SAAS,cAAc,KAAK,EAErDA,EAAiB,GAAK,oBACtBA,EAAiB,UAAU,IAAI,mBAAmB,EAClDA,EAAiB,YAAc,8BAC/BA,EAAiB,MAAM,QAAU,OACjC,SAAS,KAAK,YAAYA,CAAgB,EAE1CF,EAAa,iBAAiB,QAAS,IAAM,CAC3C,MAAMG,EAAkBJ,EAAY,MAAM,KAAI,EAE9C,GAAI,CAACI,EAAiB,CACpBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,kCACf,CAAK,EACD,MACD,CAEDF,EAAiB,MAAM,QAAU,QAEjCD,EAAc,UAAY,GAE1Bb,EAAYe,CAAe,EACxB,KAAKE,GAAQ,CAEZ,GADAJ,EAAc,UAAY,GACtBI,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,KAAK,CACZ,QACE,0EACZ,CAAS,EACD,MACD,CAEDC,EAAK,KAAK,QAAQZ,GAAO,CACvB,MAAMC,EAAOF,EAAgBC,CAAG,EAChCQ,EAAc,YAAYP,CAAI,CACtC,CAAO,EAEgB,IAAIY,EAAe,gBAAgB,EAC3C,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbL,EAAiB,MAAM,QAAU,OACjCH,EAAY,MAAQ,EAC1B,CAAK,CACL,CAAC"}