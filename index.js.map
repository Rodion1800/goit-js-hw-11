{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst apiUrl = 'https://pixabay.com/api/';\n\nconst apiKey = '47996916-063d7568314d3761f2b5e2fb9';\nconst url = 'https://pixabay.com/api/';\nconst pictureName = document.querySelector('#picture-picker');\n\nconst searchButton = document.querySelector('#Search-btn');\nconst resultContent = document.querySelector('#results');\n\nsearchButton.addEventListener('click', () => {\n  const searchedPicture = pictureName.value.trim();\n\n  if (!searchedPicture) {\n    iziToast.error({\n      title: 'Error',\n      message: `Please enter picture description`,\n    });\n    return;\n  }\n\n  const params = new URLSearchParams({\n    key: apiKey,\n    q: searchedPicture,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  resultContent.innerHTML = '';\n\n  fetch(`${apiUrl}?${params.toString()}`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.info({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      data.hits.forEach(hit => {\n        const card = createImageCard(hit);\n        resultContent.appendChild(card);\n      });\n\n      const lightbox = new SimpleLightbox('.lightbox-item');\n      lightbox.refresh();\n    })\n    .catch(error => console.log(error));\n\n  pictureName.value = '';\n});\n\nfunction createImageCard(hit) {\n  const card = document.createElement('div');\n  card.classList.add('card');\n\n  const link = document.createElement('a');\n  link.href = hit.largeImageURL;\n  link.classList.add('lightbox-item');\n\n  const image = document.createElement('img');\n  image.src = hit.webformatURL;\n  image.alt = hit.tags;\n\n  link.setAttribute('data-title', hit.tags);\n\n  link.appendChild(image);\n\n  const cardInfo = document.createElement('div');\n  cardInfo.classList.add('card-info');\n\n  const stats = document.createElement('p');\n  stats.innerHTML = `\n    <span>Likes: ${hit.likes}</span> | \n    <span>Views: ${hit.views}</span> | \n    <span>Comments: ${hit.comments}</span> | \n    <span>Downloads: ${hit.downloads}</span>\n  `;\n\n  cardInfo.appendChild(stats);\n  card.appendChild(link);\n  card.appendChild(cardInfo);\n\n  return card;\n}\n"],"names":["apiUrl","apiKey","pictureName","searchButton","resultContent","searchedPicture","iziToast","params","response","data","hit","card","createImageCard","SimpleLightbox","error","link","image","cardInfo","stats"],"mappings":"6vBAMA,MAAMA,EAAS,2BAETC,EAAS,qCAETC,EAAc,SAAS,cAAc,iBAAiB,EAEtDC,EAAe,SAAS,cAAc,aAAa,EACnDC,EAAgB,SAAS,cAAc,UAAU,EAEvDD,EAAa,iBAAiB,QAAS,IAAM,CAC3C,MAAME,EAAkBH,EAAY,MAAM,KAAI,EAE9C,GAAI,CAACG,EAAiB,CACpBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,kCACf,CAAK,EACD,MACD,CAED,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKN,EACL,EAAGI,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEDD,EAAc,UAAY,GAE1B,MAAM,GAAGJ,CAAM,IAAIO,EAAO,SAAU,CAAA,GAAI,CACtC,OAAQ,MACR,QAAS,CACP,eAAgB,kBACjB,CACL,CAAG,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BH,EAAS,KAAK,CACZ,QACE,0EACZ,CAAS,EACD,MACD,CAEDG,EAAK,KAAK,QAAQC,GAAO,CACvB,MAAMC,EAAOC,EAAgBF,CAAG,EAChCN,EAAc,YAAYO,CAAI,CACtC,CAAO,EAEgB,IAAIE,EAAe,gBAAgB,EAC3C,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEpCZ,EAAY,MAAQ,EACtB,CAAC,EAED,SAASU,EAAgBF,EAAK,CAC5B,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzB,MAAMI,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOL,EAAI,cAChBK,EAAK,UAAU,IAAI,eAAe,EAElC,MAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,IAAMN,EAAI,aAChBM,EAAM,IAAMN,EAAI,KAEhBK,EAAK,aAAa,aAAcL,EAAI,IAAI,EAExCK,EAAK,YAAYC,CAAK,EAEtB,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAU,IAAI,WAAW,EAElC,MAAMC,EAAQ,SAAS,cAAc,GAAG,EACxC,OAAAA,EAAM,UAAY;AAAA,mBACDR,EAAI,KAAK;AAAA,mBACTA,EAAI,KAAK;AAAA,sBACNA,EAAI,QAAQ;AAAA,uBACXA,EAAI,SAAS;AAAA,IAGlCO,EAAS,YAAYC,CAAK,EAC1BP,EAAK,YAAYI,CAAI,EACrBJ,EAAK,YAAYM,CAAQ,EAElBN,CACT"}